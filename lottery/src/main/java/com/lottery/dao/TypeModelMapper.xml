<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.lottery.dao.TypeModelMapper" >
  <resultMap id="BaseResultMap" type="com.lottery.pojo.TypeModel" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Oct 27 21:57:40 CST 2017.
    -->
    <id column="LID" property="lid" jdbcType="DECIMAL" />
    <result column="LOTYPENAME" property="lotypename" jdbcType="VARCHAR" />
    <result column="LOTYPEDESC" property="lotypedesc" jdbcType="VARCHAR" />
    <result column="LOTTERDATE" property="lotterdate" jdbcType="VARCHAR" />
    <result column="SALEMONEY" property="salemoney" jdbcType="DECIMAL" />
    <result column="STATUS" property="status" jdbcType="DECIMAL" />
    <result column="LOTTERTIME" property="lottertime" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Oct 27 21:57:40 CST 2017.
    -->
    LID, LOTYPENAME,  LOTTERDATE, SALEMONEY, LOTTERTIME,LOTYPEDESC,STATUS
  </sql>
  
  <!-- 根据彩票名称查找 -->
  <select id="selectByUsername" resultMap="BaseResultMap" parameterType="com.lottery.pojo.TypeModel">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Oct 27 21:57:40 CST 2017.
    -->
    select
  	<include refid="Base_Column_List" />
  	from LOTTERY.T_LOTTERYTYPE
  	where 1 = 1
  	<if test="lotypename != null">
  	and LOTYPENAME LIKE CONCAT('%','#{lotypename}','%')
  	</if>  	
  </select>
 
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Short" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Oct 27 21:57:40 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from LOTTERY.T_LOTTERYTYPE
    where LID = #{lid,jdbcType=DECIMAL}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Short" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Oct 27 21:57:40 CST 2017.
    -->
    delete from LOTTERY.T_LOTTERYTYPE
    where LID = #{lid,jdbcType=DECIMAL}
  </delete>
  <insert id="insert" parameterType="com.lottery.pojo.TypeModel" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Oct 27 21:57:40 CST 2017.
    -->
    insert into LOTTERY.T_LOTTERYTYPE (LID, LOTYPENAME, LOTYPEDESC, LOTTERDATE, SALEMONEY, LOTTERTIME, STATUS
      )
    values (seq_t_lotterytype.nextval, #{lotypename,jdbcType=VARCHAR}, #{lotypedesc,jdbcType=VARCHAR},#{lotterdate,jdbcType=VARCHAR},#{salemoney,jdbcType=DECIMAL},#{lottertime,jdbcType=VARCHAR},0
      )
  </insert>
  <insert id="insertSelective" parameterType="com.lottery.pojo.TypeModel" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Oct 27 21:57:40 CST 2017.
    -->
    insert into LOTTERY.T_LOTTERYTYPE
    <trim prefix="(" suffix=")" suffixOverrides="," >
        LID,
        STATUS,
      <if test="lotypename != null" >
        LOTYPENAME,
      </if>
      <if test="lotypedesc != null" >
        LOTYPEDESC,
      </if>
      <if test="lotterdate != null" >
        LOTTERDATE,
      </if>
      <if test="salemoney != null" >
        SALEMONEY,
      </if>
      <if test="lottertime != null" >
        LOTTERTIME,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
        seq_t_lotterytype.nextval,
        0,
      <if test="lotypename != null" >
        #{lotypename,jdbcType=VARCHAR},
      </if>
      <if test="lotypedesc != null" >
        #{lotypedesc,jdbcType=VARCHAR},
      </if>
      <if test="lotypename != null" >
        #{lotterdate,jdbcType=VARCHAR},
      </if>
      <if test="lotypedesc != null" >
        #{salemoney,jdbcType=DECIMAL},
      </if>
      <if test="lotypedesc != null" >
        #{lottertime,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.lottery.pojo.TypeModel" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Oct 27 21:57:40 CST 2017.
    -->
    update LOTTERY.T_LOTTERYTYPE
    <set >
      <if test="lotypename != null" >
        LOTYPENAME = #{lotypename,jdbcType=VARCHAR},
      </if>
      <if test="lotypedesc != null" >
        LOTYPEDESC = #{lotypedesc,jdbcType=VARCHAR},
      </if>
      <if test="lotterdate != null" >
        LOTTERDATE = #{lotterdate,jdbcType=VARCHAR},
      </if>
      <if test="salemoney != null" >
        SALEMONEY = #{salemoney,jdbcType=DECIMAL},
      </if>
      <if test="status != null" >
        STATUS = #{status,jdbcType=DECIMAL},
      </if>
      <if test="lottertime != null" >
        LOTTERTIME = #{lottertime,jdbcType=VARCHAR},
      </if>
    </set>
    where LID = #{lid,jdbcType=DECIMAL}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.lottery.pojo.TypeModel" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Oct 27 21:57:40 CST 2017.
    -->
    update LOTTERY.T_LOTTERYTYPE
    set LOTYPENAME = #{lotypename,jdbcType=VARCHAR},
    LOTTERDATE = #{lotterdate,jdbcType=VARCHAR},
    SALEMONEY = #{salemoney,jdbcType=DECIMAL},
    STATUS = #{status,jdbcType=DECIMAL},
    LOTTERTIME = #{lottertime,jdbcType=VARCHAR},
      LOTYPEDESC = #{lotypedesc,jdbcType=VARCHAR}
    where LID = #{lid,jdbcType=DECIMAL}
  </update>
  
  <select id="queryAll" resultMap="BaseResultMap" parameterType="com.lottery.pojo.TypeModel">
  	select
  	<include refid="Base_Column_List" />
  	from t_lotterytype
  	<where>
	  <if test="lid != null" >
        and LID = #{lid,jdbcType=DECIMAL}
      </if>
      <if test="lotypename != null" >
        and LOTYPENAME = #{lotypename,jdbcType=VARCHAR}
      </if>
      <if test="lotypedesc != null" >
        and LOTYPEDESC = #{lotypedesc,jdbcType=VARCHAR}
      </if>
      <if test="lotterdate != null" >
        and LOTTERDATE = #{lotterdate,jdbcType=VARCHAR}
      </if>
      <if test="salemoney != null" >
        and SALEMONEY = #{salemoney,jdbcType=DECIMAL}
      </if>
      <if test="lottertime != null" >
        and LOTTERTIME = #{lottertime,jdbcType=VARCHAR}
      </if>
      <if test="status != null" >
        and STATUS = #{status,jdbcType=DECIMAL}
      </if>
  	</where>
  </select>
  
  <select id="selectByLotypename" parameterType="String" resultType="Integer">
  	select count(1) from t_lotterytype where lotypename = #{lotypename}
  </select>
  
  <update id="undercarriage" parameterType="short">
  	update t_lotterytype set status = 1 where lid = #{lid}
  </update>
  
  <select id="selectStatus" parameterType="short" resultType="int">
  	select count(1) from t_lotterytype where lid=#{lid} and status = 1
  </select>
  
  <update id="live" parameterType="short">
  	update t_lotterytype set status = 0 where lid = #{lid}
  </update>
</mapper>